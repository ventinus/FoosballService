"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const api = require("@aws-cdk/cx-api");
const inspector_1 = require("./inspector");
const synth_utils_1 = require("./synth-utils");
function expect(stack, skipValidation = false) {
    // if this is already a synthesized stack, then just inspect it.
    const artifact = stack instanceof api.CloudFormationStackArtifact ? stack : synth_utils_1.SynthUtils._synthesizeWithNested(stack, { skipValidation });
    return new inspector_1.StackInspector(artifact);
}
exports.expect = expect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsdUNBQXdDO0FBQ3hDLDJDQUE2QztBQUM3QywrQ0FBMkM7QUFFM0MsU0FBZ0IsTUFBTSxDQUFDLEtBQWtELEVBQUUsY0FBYyxHQUFHLEtBQUs7SUFDL0YsZ0VBQWdFO0lBQ2hFLE1BQU0sUUFBUSxHQUFHLEtBQUssWUFBWSxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsd0JBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDO0lBQ3hJLE9BQU8sSUFBSSwwQkFBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFKRCx3QkFJQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjZGsgPSByZXF1aXJlKCdAYXdzLWNkay9jb3JlJyk7XG5pbXBvcnQgYXBpID0gcmVxdWlyZSgnQGF3cy1jZGsvY3gtYXBpJyk7XG5pbXBvcnQgeyBTdGFja0luc3BlY3RvciB9IGZyb20gJy4vaW5zcGVjdG9yJztcbmltcG9ydCB7IFN5bnRoVXRpbHMgfSBmcm9tICcuL3N5bnRoLXV0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdChzdGFjazogYXBpLkNsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCB8IGNkay5TdGFjaywgc2tpcFZhbGlkYXRpb24gPSBmYWxzZSk6IFN0YWNrSW5zcGVjdG9yIHtcbiAgLy8gaWYgdGhpcyBpcyBhbHJlYWR5IGEgc3ludGhlc2l6ZWQgc3RhY2ssIHRoZW4ganVzdCBpbnNwZWN0IGl0LlxuICBjb25zdCBhcnRpZmFjdCA9IHN0YWNrIGluc3RhbmNlb2YgYXBpLkNsb3VkRm9ybWF0aW9uU3RhY2tBcnRpZmFjdCA/IHN0YWNrIDogU3ludGhVdGlscy5fc3ludGhlc2l6ZVdpdGhOZXN0ZWQoc3RhY2ssIHsgc2tpcFZhbGlkYXRpb24gfSk7XG4gIHJldHVybiBuZXcgU3RhY2tJbnNwZWN0b3IoYXJ0aWZhY3QpO1xufVxuIl19